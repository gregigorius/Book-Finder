{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nexport var CACHE_PREFIX = 'react-avatar/';\nexport var CACHE_KEY_FAILING = 'failing';\n\nvar _hasLocalStorage = function isLocalStorageAvailable() {\n  try {\n    return 'localStorage' in window && window['localStorage'];\n  } catch (err) {\n    return false;\n  }\n}();\n\nexport var Cache = /*#__PURE__*/function () {\n  function Cache() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Cache);\n\n    var _options$cachePrefix = options.cachePrefix,\n        cachePrefix = _options$cachePrefix === void 0 ? CACHE_PREFIX : _options$cachePrefix,\n        _options$sourceTTL = options.sourceTTL,\n        sourceTTL = _options$sourceTTL === void 0 ? 7 * 24 * 3600 * 1000 : _options$sourceTTL,\n        _options$sourceSize = options.sourceSize,\n        sourceSize = _options$sourceSize === void 0 ? 20 : _options$sourceSize;\n    this.cachePrefix = cachePrefix;\n    this.sourceTTL = sourceTTL;\n    this.sourceSize = sourceSize;\n  }\n\n  _createClass(Cache, [{\n    key: \"set\",\n    value: function set(key, value) {\n      // cache not available\n      if (!_hasLocalStorage) return;\n      value = JSON.stringify(value);\n\n      try {\n        localStorage.setItem(this.cachePrefix + key, value);\n      } catch (e) {\n        // failsafe for mobile Safari private mode\n        console.error(e); // eslint-disable-line no-console\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      // cache not available\n      if (!_hasLocalStorage) return null;\n      var value = localStorage.getItem(this.cachePrefix + key);\n      if (value) return JSON.parse(value);\n      return null;\n    }\n  }, {\n    key: \"sourceFailed\",\n    value: function sourceFailed(source) {\n      var cacheList = this.get(CACHE_KEY_FAILING) || []; // Remove expired entries or previous instances of this source\n\n      cacheList = cacheList.filter(function (entry) {\n        var hasExpired = entry.expires > 0 && entry.expires < Date.now();\n        var isMatch = entry === source || entry.url == source;\n        return !hasExpired && !isMatch;\n      }); // Add the source to the end of the list\n\n      cacheList.unshift({\n        url: source,\n        expires: Date.now() + this.sourceTTL\n      }); // only keep the last X results so we don't fill up local storage\n\n      cacheList = cacheList.slice(0, this.sourceSize - 1);\n      return this.set(CACHE_KEY_FAILING, cacheList);\n    }\n  }, {\n    key: \"hasSourceFailedBefore\",\n    value: function hasSourceFailedBefore(source) {\n      var cacheList = this.get(CACHE_KEY_FAILING) || [];\n      return cacheList.some(function (entry) {\n        var hasExpired = entry.expires > 0 && entry.expires < Date.now();\n        var isMatch = entry === source || entry.url == source;\n        return isMatch && !hasExpired;\n      });\n    }\n  }]);\n\n  return Cache;\n}();\nexport default new Cache();","map":{"version":3,"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","CACHE_PREFIX","CACHE_KEY_FAILING","_hasLocalStorage","isLocalStorageAvailable","window","err","Cache","options","arguments","undefined","_options$cachePrefix","cachePrefix","_options$sourceTTL","sourceTTL","_options$sourceSize","sourceSize","value","set","JSON","stringify","localStorage","setItem","e","console","error","get","getItem","parse","sourceFailed","source","cacheList","filter","entry","hasExpired","expires","Date","now","isMatch","url","unshift","slice","hasSourceFailedBefore","some"],"sources":["/Users/gabriel/Play/test/travelio/react-analytics/node_modules/react-avatar/es/cache.js"],"sourcesContent":["import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.some.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var CACHE_PREFIX = 'react-avatar/';\nexport var CACHE_KEY_FAILING = 'failing';\n\nvar _hasLocalStorage = function isLocalStorageAvailable() {\n  try {\n    return 'localStorage' in window && window['localStorage'];\n  } catch (err) {\n    return false;\n  }\n}();\n\nexport var Cache = /*#__PURE__*/function () {\n  function Cache() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Cache);\n\n    var _options$cachePrefix = options.cachePrefix,\n        cachePrefix = _options$cachePrefix === void 0 ? CACHE_PREFIX : _options$cachePrefix,\n        _options$sourceTTL = options.sourceTTL,\n        sourceTTL = _options$sourceTTL === void 0 ? 7 * 24 * 3600 * 1000 : _options$sourceTTL,\n        _options$sourceSize = options.sourceSize,\n        sourceSize = _options$sourceSize === void 0 ? 20 : _options$sourceSize;\n    this.cachePrefix = cachePrefix;\n    this.sourceTTL = sourceTTL;\n    this.sourceSize = sourceSize;\n  }\n\n  _createClass(Cache, [{\n    key: \"set\",\n    value: function set(key, value) {\n      // cache not available\n      if (!_hasLocalStorage) return;\n      value = JSON.stringify(value);\n\n      try {\n        localStorage.setItem(this.cachePrefix + key, value);\n      } catch (e) {\n        // failsafe for mobile Safari private mode\n        console.error(e); // eslint-disable-line no-console\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      // cache not available\n      if (!_hasLocalStorage) return null;\n      var value = localStorage.getItem(this.cachePrefix + key);\n      if (value) return JSON.parse(value);\n      return null;\n    }\n  }, {\n    key: \"sourceFailed\",\n    value: function sourceFailed(source) {\n      var cacheList = this.get(CACHE_KEY_FAILING) || []; // Remove expired entries or previous instances of this source\n\n      cacheList = cacheList.filter(function (entry) {\n        var hasExpired = entry.expires > 0 && entry.expires < Date.now();\n        var isMatch = entry === source || entry.url == source;\n        return !hasExpired && !isMatch;\n      }); // Add the source to the end of the list\n\n      cacheList.unshift({\n        url: source,\n        expires: Date.now() + this.sourceTTL\n      }); // only keep the last X results so we don't fill up local storage\n\n      cacheList = cacheList.slice(0, this.sourceSize - 1);\n      return this.set(CACHE_KEY_FAILING, cacheList);\n    }\n  }, {\n    key: \"hasSourceFailedBefore\",\n    value: function hasSourceFailedBefore(source) {\n      var cacheList = this.get(CACHE_KEY_FAILING) || [];\n      return cacheList.some(function (entry) {\n        var hasExpired = entry.expires > 0 && entry.expires < Date.now();\n        var isMatch = entry === source || entry.url == source;\n        return isMatch && !hasExpired;\n      });\n    }\n  }]);\n\n  return Cache;\n}();\nexport default new Cache();"],"mappings":"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"},"metadata":{},"sourceType":"module"}