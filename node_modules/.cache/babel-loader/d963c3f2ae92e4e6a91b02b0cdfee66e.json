{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { isEqual, cloneDate } from '@progress/kendo-date-math';\nimport { registerForIntl, provideIntlService, registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { KendoDate } from './models';\nimport { guid, AsyncFocusBlur, noop, classNames, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { approximateStringMatching, defaultFormat, defaultFormatPlaceholder, isInRange, wrapperClasses } from './utils';\nimport { MAX_DATE, MIN_DATE } from './../utils';\nimport { messages, increaseValue, decreaseValue } from './../messages';\nimport { isInTimeRange } from '../timepicker/utils';\nimport { MIN_TIME, MAX_TIME } from '../defaults';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!'; // tslint:enable:max-line-length\n\n/** @hidden */\n\nvar DateInputWithoutContext =\n/** @class */\nfunction (_super) {\n  __extends(DateInputWithoutContext, _super);\n\n  function DateInputWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.kendoDate = null;\n    _this.paste = false;\n    _this._element = null;\n    _this._wrapper = null;\n    _this._inputId = guid();\n    /**\n     * @hidden\n     */\n\n    _this.focus = function () {\n      if (_this._element) {\n        _this._element.focus();\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.setValidity = function () {\n      if (_this.element && _this.element.setCustomValidity) {\n        _this.element.setCustomValidity(_this.validity.valid ? '' : _this.props.validationMessage || DateInputWithoutContext.defaultProps.validationMessage);\n      }\n    };\n\n    _this.updateOnPaste = function (event) {\n      if (!_this.element || !_this.kendoDate) {\n        return;\n      }\n\n      var value = provideIntlService(_this).parseDate(_this.element.value, _this.props.format) || _this.value;\n\n      var oldValue = _this.value;\n\n      _this.kendoDate.setValue(value);\n\n      _this.triggerChange(event, oldValue);\n    };\n    /* Handlers */\n\n\n    _this.spinnersMouseDown = function (event) {\n      /* do not steal focus from input when changing value with spinners */\n      event.preventDefault();\n      /* manually focus the input in case the user clicks the spinners first */\n\n      if (_this.element && document.activeElement !== _this.element) {\n        _this.element.focus({\n          preventScroll: true\n        });\n      }\n    };\n\n    _this.handlePaste = function () {\n      _this.paste = true;\n    };\n\n    _this.elementChange = function (event) {\n      if (!_this.element || !_this.kendoDate) {\n        return;\n      }\n\n      if (_this.paste) {\n        _this.updateOnPaste(event);\n\n        _this.paste = false;\n        return;\n      }\n\n      var _a = _this.kendoDate.getTextAndFormat(),\n          text = _a.text,\n          currentFormat = _a.format;\n\n      _this.currentFormat = currentFormat;\n      var dateBeforeChange = _this.value;\n      var diff = approximateStringMatching(text, _this.currentFormat, _this.element.value, _this.selection.start);\n      var navigationOnly = diff.length === 1 && diff[0][1] === '_';\n\n      if (!navigationOnly) {\n        for (var i = 0; i < diff.length; i++) {\n          _this.kendoDate.parsePart(diff[i][0], diff[i][1]);\n        }\n      }\n\n      if (diff.length && diff[0][0] !== '_') {\n        _this.setSelection(_this.selectionBySymbol(diff[0][0]));\n      }\n\n      if (navigationOnly) {\n        _this.switchDateSegment(1);\n      }\n\n      _this.triggerChange(event, dateBeforeChange);\n    };\n\n    _this.elementClick = function (_) {\n      _this.setSelection(_this.selectionByIndex(_this.selection.start));\n    };\n\n    _this.nativeWheel = function (event) {\n      event.preventDefault();\n    };\n\n    _this.wheel = function (event) {\n      if (document.activeElement !== _this.element) {\n        return;\n      }\n\n      if (event.nativeEvent.deltaY < 0) {\n        _this.increasePart(event);\n      }\n\n      if (event.nativeEvent.deltaY > 0) {\n        _this.decreasePart(event);\n      }\n    };\n\n    _this.increasePart = function (event) {\n      _this.modifyDateSegmentValue(1, event);\n    };\n\n    _this.decreasePart = function (event) {\n      _this.modifyDateSegmentValue(-1, event);\n    };\n\n    _this.elementKeyDown = function (event) {\n      if (event.altKey) {\n        return;\n      }\n\n      switch (event.keyCode) {\n        case 37:\n          /*\n              * Key: `Left Arrow`\n              * Action: Switches to previous logical* segment.\n              * (*) https://www.w3.org/International/articles/inline-bidi-markup/uba-basics\n              */\n          _this.switchDateSegment(-1);\n\n          break;\n\n        case 38:\n          /*\n              * Key: `Up Arrow`\n              * Action: Increases the currently selected segment value.\n              */\n          _this.modifyDateSegmentValue(1, event);\n\n          break;\n\n        case 39:\n          /*\n              * Key: `Right Arrow`\n              * Action: Switches to the next logical segment.\n              */\n          _this.switchDateSegment(1);\n\n          break;\n\n        case 40:\n          /*\n              * Key: `Down Arrow`\n              * Action: Decreases the currently selected segment value.\n              */\n          _this.modifyDateSegmentValue(-1, event);\n\n          break;\n\n        default:\n          /*\n              * Key: any\n              * Action: Does not prevent the default behavior.\n              */\n          return;\n      }\n\n      event.preventDefault();\n    };\n\n    _this.elementOnFocus = function (_) {\n      if (_this.wrapper) {\n        _this.wrapper.classList.add('k-state-focused');\n      }\n\n      _this.setState({\n        focused: true\n      });\n    };\n\n    _this.elementOnBlur = function (_) {\n      if (_this.wrapper) {\n        _this.wrapper.classList.remove('k-state-focused');\n      }\n\n      _this.setState({\n        focused: false\n      });\n    };\n\n    validatePackage(packageMetadata);\n    _this.state = {\n      focused: false\n    };\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n\n\n  DateInputWithoutContext.prototype.componentDidMount = function () {\n    this.setValidity();\n\n    if (this.wrapper) {\n      this.wrapper.addEventListener('wheel', this.nativeWheel, {\n        passive: false\n      });\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  DateInputWithoutContext.prototype.componentDidUpdate = function (_, prevState) {\n    if (this._lastSelectedSymbol && prevState.focused === this.state.focused) {\n      this.setSelection(this.selectionBySymbol(this._lastSelectedSymbol));\n    } else if (this.selection.start === this.selection.end) {\n      this.setSelection({\n        start: 0,\n        end: this.currentFormat.length\n      });\n    }\n\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  DateInputWithoutContext.prototype.componentWillUnmount = function () {\n    if (this.wrapper) {\n      this.wrapper.removeEventListener('wheel', this.nativeWheel);\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  DateInputWithoutContext.prototype.render = function () {\n    var _this = this;\n\n    if (this.props._ref) {\n      this.props._ref.current = this;\n    }\n\n    var localizationService = provideLocalizationService(this);\n\n    var props = __assign({}, DateInputWithoutContext.defaultProps, this.props);\n\n    var min = props.min,\n        max = props.max,\n        name = props.name,\n        label = props.label,\n        id = props.id;\n    var currentText = this.text;\n    var text = currentText === this.props.placeholder ? '' : currentText;\n    var placeholder = currentText === this.props.placeholder ? currentText : undefined;\n    var inputId = id || this._inputId;\n    var isValid = !this.validityStyles || this.validity.valid;\n    var ariaProps = {\n      'aria-valuemin': min === null ? undefined : min.getTime(),\n      'aria-valuemax': max === null ? undefined : max.getTime(),\n      'aria-valuetext': text\n    };\n\n    if (this.value !== null) {\n      ariaProps['aria-valuenow'] = this.value.getTime();\n    }\n\n    var wrapperClassesInstance = wrapperClasses.slice();\n\n    if (this.props.className) {\n      wrapperClassesInstance.push(this.props.className);\n    }\n\n    var dateinput = React.createElement(AsyncFocusBlur, {\n      onFocus: this.elementOnFocus,\n      onBlur: this.elementOnBlur\n    }, function (_a) {\n      var onFocus = _a.onFocus,\n          onBlur = _a.onBlur;\n      return React.createElement(\"span\", {\n        style: !label ? {\n          width: _this.props.width\n        } : undefined,\n        dir: _this.props.dir,\n        className: wrapperClassesInstance.join(' '),\n        onFocus: onFocus,\n        onBlur: onBlur\n      }, React.createElement(\"span\", {\n        className: classNames('k-dateinput-wrap', {\n          'k-state-disabled': _this.props.disabled,\n          'k-state-invalid': !isValid\n        }),\n        ref: function (span) {\n          _this._wrapper = span;\n        }\n      }, React.createElement(\"input\", __assign({\n        role: \"spinbutton\",\n        tabIndex: _this.props.tabIndex,\n        disabled: _this.props.disabled,\n        title: _this.props.title !== undefined ? _this.props.title : currentText,\n        type: \"text\",\n        spellCheck: false,\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        className: \"k-input\",\n        id: inputId,\n        \"aria-labelledby\": _this.props.ariaLabelledBy,\n        \"aria-describedby\": _this.props.ariaDescribedBy,\n        \"aria-expanded\": _this.props.ariaExpanded,\n        \"aria-haspopup\": _this.props.ariaHasPopup,\n        onWheel: _this.wheel,\n        onClick: _this.elementClick,\n        onInput: _this.elementChange,\n        onPaste: _this.handlePaste,\n        onKeyDown: _this.elementKeyDown,\n        onChange: noop,\n        value: text,\n        placeholder: placeholder,\n        name: name\n      }, ariaProps, {\n        ref: function (input) {\n          return _this._element = input;\n        }\n      })), _this.props.children, _this.props.spinners && React.createElement(\"span\", {\n        className: \"k-select\",\n        onMouseDown: _this.spinnersMouseDown\n      }, React.createElement(\"span\", {\n        className: \"k-link k-link-increase\",\n        \"aria-label\": localizationService.toLanguageString(increaseValue, messages[increaseValue]),\n        title: localizationService.toLanguageString(increaseValue, messages[increaseValue]),\n        onClick: _this.increasePart\n      }, React.createElement(\"span\", {\n        className: \"k-icon k-i-arrow-n\"\n      })), React.createElement(\"span\", {\n        className: \"k-link k-link-decrease\",\n        \"aria-label\": localizationService.toLanguageString(decreaseValue, messages[decreaseValue]),\n        title: localizationService.toLanguageString(decreaseValue, messages[decreaseValue]),\n        onClick: _this.decreasePart\n      }, React.createElement(\"span\", {\n        className: \"k-icon k-i-arrow-s\"\n      })))));\n    });\n    return label ? React.createElement(FloatingLabel, {\n      label: label,\n      editorId: inputId,\n      editorValue: currentText,\n      editorValid: isValid,\n      editorDisabled: this.props.disabled,\n      children: dateinput,\n      style: {\n        width: this.props.width\n      }\n    }) : dateinput;\n  };\n\n  Object.defineProperty(DateInputWithoutContext.prototype, \"value\", {\n    /* Public Getters */\n\n    /**\n     * Gets the value of the DateInput.\n     */\n    get: function () {\n      if (this.valueDuringOnChange !== undefined) {\n        return this.valueDuringOnChange;\n      }\n\n      return this.kendoDate && this.kendoDate.getDateObject();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateInputWithoutContext.prototype, \"name\", {\n    /**\n     * Gets the `name` property of the DateInput.\n     */\n    get: function () {\n      return this.props.name;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateInputWithoutContext.prototype, \"min\", {\n    get: function () {\n      return this.props.min !== undefined ? this.props.min : DateInputWithoutContext.defaultProps.min;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateInputWithoutContext.prototype, \"max\", {\n    get: function () {\n      return this.props.max !== undefined ? this.props.max : DateInputWithoutContext.defaultProps.max;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateInputWithoutContext.prototype, \"text\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      var props = __assign({}, DateInput.defaultProps, this.props);\n\n      var _a = props.formatPlaceholder,\n          formatPlaceholder = _a === void 0 ? DateInputWithoutContext.defaultProps.formatPlaceholder : _a,\n          _b = props.format,\n          format = _b === void 0 ? DateInputWithoutContext.defaultProps.format : _b,\n          value = props.value,\n          defaultValue = props.defaultValue;\n\n      if (this.kendoDate === null) {\n        this.kendoDate = new KendoDate(this.intl.bind(this), formatPlaceholder, format);\n        this.kendoDate.setValue(value || defaultValue || null);\n      } else {\n        this.kendoDate.format = format;\n        this.kendoDate.formatPlaceholder = formatPlaceholder;\n      }\n\n      if (value !== undefined && this.value !== value) {\n        this.kendoDate.setValue(value);\n      }\n\n      var _c = this.kendoDate.getTextAndFormat(),\n          currentText = _c.text,\n          currentFormat = _c.format;\n\n      this.currentFormat = currentFormat;\n      return props.placeholder !== null && props.placeholder !== undefined && !this.state.focused && !this.kendoDate.hasValue() ? props.placeholder : currentText;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateInputWithoutContext.prototype, \"validity\", {\n    /**\n     * Represents the validity state into which the DateInput is set.\n     */\n    get: function () {\n      var inRange = isInRange(this.value, this.min, this.max) && isInTimeRange(this.value, this.props.minTime, this.props.maxTime);\n      var customError = this.props.validationMessage !== undefined;\n      var isValid = (!this.required || this.value !== null) && inRange;\n      var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n      return {\n        customError: customError,\n        rangeOverflow: this.value && this.max.getTime() < this.value.getTime() || false,\n        rangeUnderflow: this.value && this.value.getTime() < this.min.getTime() || false,\n        valid: valid,\n        valueMissing: this.value === null\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateInputWithoutContext.prototype, \"element\", {\n    /**\n     * Gets the element of the DateInput.\n     *\n     * @return - An `HTMLInputElement`.\n     *\n     * @example\n     * ```jsx\n     * class App extends React.Component {\n     *     constructor(props) {\n     *         super(props);\n     *     }\n     *     element = null;\n     *     render() {\n     *         return (\n     *             <div>\n     *                 <DateInput\n     *                     ref={(dateInput) =>\n     *                         this.element = dateInput ? dateInput.element : null}\n     *                 />\n     *                 <button onClick={() => console.log(this.element)}>console.log the element</button>\n     *             </div>\n     *         );\n     *     }\n     * }\n     *\n     * ReactDOM.render(\n     *     <App />,\n     *     document.getElementsByTagName('my-app')[0]\n     * );\n     * ```\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateInputWithoutContext.prototype, \"validityStyles\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.validityStyles !== undefined ? this.props.validityStyles : DateInputWithoutContext.defaultProps.validityStyles;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateInputWithoutContext.prototype, \"required\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.required !== undefined ? this.props.required : DateInputWithoutContext.defaultProps.required;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateInputWithoutContext.prototype, \"wrapper\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._wrapper;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  DateInputWithoutContext.prototype.intl = function () {\n    return provideIntlService(this);\n  };\n\n  Object.defineProperty(DateInputWithoutContext.prototype, \"selection\", {\n    /*  end handlers */\n    get: function () {\n      var returnValue = {\n        start: 0,\n        end: 0\n      };\n\n      if (this.element !== null && this.element.selectionStart !== undefined) {\n        returnValue = {\n          start: this.element.selectionStart,\n          end: this.element.selectionEnd\n        };\n      }\n\n      return returnValue;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  DateInputWithoutContext.prototype.setSelection = function (selection) {\n    var _this = this;\n\n    this._lastSelectedSymbol = this.currentFormat[selection.start];\n    window.requestAnimationFrame(function () {\n      if (_this.element && document.activeElement === _this.element) {\n        _this.element.setSelectionRange(selection.start, selection.end);\n      }\n    });\n  };\n\n  DateInputWithoutContext.prototype.triggerChange = function (event, oldValue) {\n    this.valueDuringOnChange = this.value;\n    this.forceUpdate();\n\n    if (this.props.onChange && !isEqual(oldValue, this.value)) {\n      // isEqual works with null\n      this.props.onChange.call(undefined, {\n        syntheticEvent: event,\n        nativeEvent: event.nativeEvent,\n        value: this.value,\n        target: this // inRange: this.props.min && this.props.max ? isInRange(value, this.props.min, this.props.max) : true\n\n      });\n    }\n\n    this.valueDuringOnChange = undefined;\n  };\n\n  DateInputWithoutContext.prototype.selectionBySymbol = function (symbol) {\n    var start = -1;\n    var end = 0;\n\n    for (var i = 0; i < this.currentFormat.length; i++) {\n      if (this.currentFormat[i] === symbol) {\n        end = i + 1;\n\n        if (start === -1) {\n          start = i;\n        }\n      }\n    }\n\n    if (start < 0) {\n      start = 0;\n    }\n\n    return {\n      start: start,\n      end: end\n    };\n  };\n\n  DateInputWithoutContext.prototype.selectionByIndex = function (index) {\n    var selection = {\n      start: index,\n      end: index\n    };\n\n    for (var i = index, j = index - 1; i < this.currentFormat.length || j >= 0; i++, j--) {\n      if (i < this.currentFormat.length && this.currentFormat[i] !== '_') {\n        selection = this.selectionBySymbol(this.currentFormat[i]);\n        break;\n      }\n\n      if (j >= 0 && this.currentFormat[j] !== '_') {\n        selection = this.selectionBySymbol(this.currentFormat[j]);\n        break;\n      }\n    }\n\n    return selection;\n  };\n\n  DateInputWithoutContext.prototype.switchDateSegment = function (offset) {\n    var _a = this.selection,\n        selectionStart = _a.start,\n        selectionEnd = _a.end;\n\n    if (selectionStart < selectionEnd && this.currentFormat[selectionStart] !== this.currentFormat[selectionEnd - 1]) {\n      this.setSelection(this.selectionByIndex(offset > 0 ? selectionStart : selectionEnd - 1));\n      return;\n    }\n\n    var previousFormatSymbol = this.currentFormat[selectionStart];\n    var a = selectionStart + offset;\n\n    while (a > 0 && a < this.currentFormat.length) {\n      if (this.currentFormat[a] !== previousFormatSymbol && this.currentFormat[a] !== '_') {\n        break;\n      }\n\n      a += offset;\n    }\n\n    if (this.currentFormat[a] === '_') {\n      // no known symbol is found\n      return;\n    }\n\n    var b = a;\n\n    while (b >= 0 && b < this.currentFormat.length) {\n      if (this.currentFormat[b] !== this.currentFormat[a]) {\n        break;\n      }\n\n      b += offset;\n    }\n\n    if (a > b && (b + 1 !== selectionStart || a + 1 !== selectionEnd)) {\n      this.setSelection({\n        start: b + 1,\n        end: a + 1\n      });\n    } else if (a < b && (a !== selectionStart || b !== selectionEnd)) {\n      this.setSelection({\n        start: a,\n        end: b\n      });\n    }\n  };\n\n  DateInputWithoutContext.prototype.modifyDateSegmentValue = function (offset, event) {\n    if (!this.kendoDate) {\n      return;\n    }\n\n    var oldValue = this.value;\n    var symbol = this.currentFormat[this.selection.start];\n    var currentStepSymbol = this.kendoDate.symbolMap(symbol);\n    var step = ((this.props.steps || {})[currentStepSymbol] || 1) * offset;\n    this.kendoDate.modifyPart(symbol, step);\n    this.triggerChange(event, oldValue);\n  };\n  /**\n   * @hidden\n   */\n\n\n  DateInputWithoutContext.displayName = 'DateInput';\n  /**\n   * @hidden\n   */\n\n  DateInputWithoutContext.propTypes = {\n    value: PropTypes.instanceOf(Date),\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n      skeleton: PropTypes.string,\n      pattern: PropTypes.string,\n      date: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n      time: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n      datetime: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n      era: PropTypes.oneOf(['narrow', 'short', 'long']),\n      year: PropTypes.oneOf(['numeric', '2-digit']),\n      month: PropTypes.oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n      day: PropTypes.oneOf(['numeric', '2-digit']),\n      weekday: PropTypes.oneOf(['narrow', 'short', 'long']),\n      hour: PropTypes.oneOf(['numeric', '2-digit']),\n      hour12: PropTypes.bool,\n      minute: PropTypes.oneOf(['numeric', '2-digit']),\n      second: PropTypes.oneOf(['numeric', '2-digit']),\n      timeZoneName: PropTypes.oneOf(['short', 'long'])\n    })]),\n    formatPlaceholder: PropTypes.oneOfType([PropTypes.oneOf(['wide', 'narrow', 'short', 'formatPattern']), PropTypes.shape({\n      year: PropTypes.string,\n      month: PropTypes.string,\n      day: PropTypes.string,\n      hour: PropTypes.string,\n      minute: PropTypes.string,\n      second: PropTypes.string\n    })]),\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    tabIndex: PropTypes.number,\n    title: PropTypes.string,\n    steps: PropTypes.shape({\n      year: PropTypes.number,\n      month: PropTypes.number,\n      day: PropTypes.number,\n      hour: PropTypes.number,\n      minute: PropTypes.number,\n      second: PropTypes.number\n    }),\n    min: PropTypes.instanceOf(Date),\n    max: PropTypes.instanceOf(Date),\n    disabled: PropTypes.bool,\n    spinners: PropTypes.bool,\n    name: PropTypes.string,\n    dir: PropTypes.string,\n    label: PropTypes.string,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    ariaExpanded: PropTypes.oneOfType([PropTypes.bool]),\n    onChange: PropTypes.func,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    validate: PropTypes.bool,\n    valid: PropTypes.bool\n  };\n  /**\n   * @hidden\n   */\n\n  DateInputWithoutContext.defaultProps = {\n    format: defaultFormat,\n    formatPlaceholder: defaultFormatPlaceholder,\n    // defaultValue: null as Date | null,\n    spinners: false,\n    disabled: false,\n    max: cloneDate(MAX_DATE),\n    min: cloneDate(MIN_DATE),\n    minTime: cloneDate(MIN_TIME),\n    maxTime: cloneDate(MAX_TIME),\n    required: false,\n    validityStyles: true,\n    validationMessage: VALIDATION_MESSAGE,\n    placeholder: null // the rest of the properties are undefined by default\n\n  };\n  return DateInputWithoutContext;\n}(React.Component);\n\nexport { DateInputWithoutContext };\n/**\n * Represents the PropsContext of the `DateInput` component.\n * Used for global configuration of all `DateInput` instances.\n *\n * For more information, refer to the [DateInputs Props Context]({% slug props-context_dateinputs %}) article.\n */\n\nexport var DateInputPropsContext = createPropsContext();\n;\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n\n/**\n * Represents the KendoReact DateInput Component.\n *\n * Accepts properties of type [DateInputProps]({% slug api_dateinputs_dateinputprops %}).\n * Obtaining the `ref` returns an object of type [DateInputHandle]({% slug api_dateinputs_dateinputhandle %}).\n */\n\nexport var DateInput = withPropsContext(DateInputPropsContext, DateInputWithoutContext);\nDateInput.displayName = 'KendoReactDateInput';\nregisterForIntl(DateInputWithoutContext);\nregisterForLocalization(DateInputWithoutContext);","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","React","PropTypes","isEqual","cloneDate","registerForIntl","provideIntlService","registerForLocalization","provideLocalizationService","KendoDate","guid","AsyncFocusBlur","noop","classNames","createPropsContext","withPropsContext","FloatingLabel","validatePackage","packageMetadata","approximateStringMatching","defaultFormat","defaultFormatPlaceholder","isInRange","wrapperClasses","MAX_DATE","MIN_DATE","messages","increaseValue","decreaseValue","isInTimeRange","MIN_TIME","MAX_TIME","VALIDATION_MESSAGE","DateInputWithoutContext","_super","props","_this","kendoDate","paste","_element","_wrapper","_inputId","focus","setValidity","element","setCustomValidity","validity","valid","validationMessage","defaultProps","updateOnPaste","event","value","parseDate","format","oldValue","setValue","triggerChange","spinnersMouseDown","preventDefault","document","activeElement","preventScroll","handlePaste","elementChange","_a","getTextAndFormat","text","currentFormat","dateBeforeChange","diff","selection","start","navigationOnly","parsePart","setSelection","selectionBySymbol","switchDateSegment","elementClick","_","selectionByIndex","nativeWheel","wheel","nativeEvent","deltaY","increasePart","decreasePart","modifyDateSegmentValue","elementKeyDown","altKey","keyCode","elementOnFocus","wrapper","classList","add","setState","focused","elementOnBlur","remove","state","componentDidMount","addEventListener","passive","componentDidUpdate","prevState","_lastSelectedSymbol","end","componentWillUnmount","removeEventListener","render","_ref","current","localizationService","min","max","name","label","id","currentText","placeholder","undefined","inputId","isValid","validityStyles","ariaProps","getTime","wrapperClassesInstance","slice","className","push","dateinput","createElement","onFocus","onBlur","style","width","dir","join","disabled","ref","span","role","tabIndex","title","type","spellCheck","autoComplete","autoCorrect","ariaLabelledBy","ariaDescribedBy","ariaExpanded","ariaHasPopup","onWheel","onClick","onInput","onPaste","onKeyDown","onChange","input","children","spinners","onMouseDown","toLanguageString","editorId","editorValue","editorValid","editorDisabled","defineProperty","get","valueDuringOnChange","getDateObject","enumerable","configurable","DateInput","formatPlaceholder","_b","defaultValue","intl","bind","_c","hasValue","inRange","minTime","maxTime","customError","required","rangeOverflow","rangeUnderflow","valueMissing","returnValue","selectionStart","selectionEnd","window","requestAnimationFrame","setSelectionRange","forceUpdate","syntheticEvent","target","symbol","index","j","offset","previousFormatSymbol","a","currentStepSymbol","symbolMap","step","steps","modifyPart","displayName","propTypes","instanceOf","Date","oneOfType","string","shape","skeleton","pattern","date","oneOf","time","datetime","era","year","month","day","weekday","hour","hour12","bool","minute","second","timeZoneName","number","func","validate","Component","DateInputPropsContext"],"sources":["/Users/gabriel/Play/test/travelio/react-analytics/node_modules/@progress/kendo-react-dateinputs/dist/es/dateinput/DateInput.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { isEqual, cloneDate } from '@progress/kendo-date-math';\nimport { registerForIntl, provideIntlService, registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { KendoDate } from './models';\nimport { guid, AsyncFocusBlur, noop, classNames, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { approximateStringMatching, defaultFormat, defaultFormatPlaceholder, isInRange, wrapperClasses } from './utils';\nimport { MAX_DATE, MIN_DATE } from './../utils';\nimport { messages, increaseValue, decreaseValue } from './../messages';\nimport { isInTimeRange } from '../timepicker/utils';\nimport { MIN_TIME, MAX_TIME } from '../defaults';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\n// tslint:enable:max-line-length\n/** @hidden */\nvar DateInputWithoutContext = /** @class */ (function (_super) {\n    __extends(DateInputWithoutContext, _super);\n    function DateInputWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        _this.kendoDate = null;\n        _this.paste = false;\n        _this._element = null;\n        _this._wrapper = null;\n        _this._inputId = guid();\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._element) {\n                _this._element.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.setValidity = function () {\n            if (_this.element && _this.element.setCustomValidity) {\n                _this.element.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || DateInputWithoutContext.defaultProps.validationMessage);\n            }\n        };\n        _this.updateOnPaste = function (event) {\n            if (!_this.element || !_this.kendoDate) {\n                return;\n            }\n            var value = provideIntlService(_this).parseDate(_this.element.value, _this.props.format) || _this.value;\n            var oldValue = _this.value;\n            _this.kendoDate.setValue(value);\n            _this.triggerChange(event, oldValue);\n        };\n        /* Handlers */\n        _this.spinnersMouseDown = function (event) {\n            /* do not steal focus from input when changing value with spinners */\n            event.preventDefault();\n            /* manually focus the input in case the user clicks the spinners first */\n            if (_this.element && document.activeElement !== _this.element) {\n                _this.element.focus({ preventScroll: true });\n            }\n        };\n        _this.handlePaste = function () {\n            _this.paste = true;\n        };\n        _this.elementChange = function (event) {\n            if (!_this.element || !_this.kendoDate) {\n                return;\n            }\n            if (_this.paste) {\n                _this.updateOnPaste(event);\n                _this.paste = false;\n                return;\n            }\n            var _a = _this.kendoDate.getTextAndFormat(), text = _a.text, currentFormat = _a.format;\n            _this.currentFormat = currentFormat;\n            var dateBeforeChange = _this.value;\n            var diff = approximateStringMatching(text, _this.currentFormat, _this.element.value, _this.selection.start);\n            var navigationOnly = (diff.length === 1 && diff[0][1] === '_');\n            if (!navigationOnly) {\n                for (var i = 0; i < diff.length; i++) {\n                    _this.kendoDate.parsePart(diff[i][0], diff[i][1]);\n                }\n            }\n            if (diff.length && diff[0][0] !== '_') {\n                _this.setSelection(_this.selectionBySymbol(diff[0][0]));\n            }\n            if (navigationOnly) {\n                _this.switchDateSegment(1);\n            }\n            _this.triggerChange(event, dateBeforeChange);\n        };\n        _this.elementClick = function (_) {\n            _this.setSelection(_this.selectionByIndex(_this.selection.start));\n        };\n        _this.nativeWheel = function (event) {\n            event.preventDefault();\n        };\n        _this.wheel = function (event) {\n            if (document.activeElement !== _this.element) {\n                return;\n            }\n            if (event.nativeEvent.deltaY < 0) {\n                _this.increasePart(event);\n            }\n            if (event.nativeEvent.deltaY > 0) {\n                _this.decreasePart(event);\n            }\n        };\n        _this.increasePart = function (event) {\n            _this.modifyDateSegmentValue(1, event);\n        };\n        _this.decreasePart = function (event) {\n            _this.modifyDateSegmentValue(-1, event);\n        };\n        _this.elementKeyDown = function (event) {\n            if (event.altKey) {\n                return;\n            }\n            switch (event.keyCode) {\n                case 37:\n                    /*\n                        * Key: `Left Arrow`\n                        * Action: Switches to previous logical* segment.\n                        * (*) https://www.w3.org/International/articles/inline-bidi-markup/uba-basics\n                        */\n                    _this.switchDateSegment(-1);\n                    break;\n                case (38):\n                    /*\n                        * Key: `Up Arrow`\n                        * Action: Increases the currently selected segment value.\n                        */\n                    _this.modifyDateSegmentValue(1, event);\n                    break;\n                case 39:\n                    /*\n                        * Key: `Right Arrow`\n                        * Action: Switches to the next logical segment.\n                        */\n                    _this.switchDateSegment(1);\n                    break;\n                case 40:\n                    /*\n                        * Key: `Down Arrow`\n                        * Action: Decreases the currently selected segment value.\n                        */\n                    _this.modifyDateSegmentValue(-1, event);\n                    break;\n                default:\n                    /*\n                        * Key: any\n                        * Action: Does not prevent the default behavior.\n                        */\n                    return;\n            }\n            event.preventDefault();\n        };\n        _this.elementOnFocus = function (_) {\n            if (_this.wrapper) {\n                _this.wrapper.classList.add('k-state-focused');\n            }\n            _this.setState({ focused: true });\n        };\n        _this.elementOnBlur = function (_) {\n            if (_this.wrapper) {\n                _this.wrapper.classList.remove('k-state-focused');\n            }\n            _this.setState({ focused: false });\n        };\n        validatePackage(packageMetadata);\n        _this.state = {\n            focused: false\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    DateInputWithoutContext.prototype.componentDidMount = function () {\n        this.setValidity();\n        if (this.wrapper) {\n            this.wrapper.addEventListener('wheel', this.nativeWheel, { passive: false });\n        }\n    };\n    /**\n     * @hidden\n     */\n    DateInputWithoutContext.prototype.componentDidUpdate = function (_, prevState) {\n        if (this._lastSelectedSymbol && prevState.focused === this.state.focused) {\n            this.setSelection(this.selectionBySymbol(this._lastSelectedSymbol));\n        }\n        else if (this.selection.start === this.selection.end) {\n            this.setSelection({ start: 0, end: this.currentFormat.length });\n        }\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    DateInputWithoutContext.prototype.componentWillUnmount = function () {\n        if (this.wrapper) {\n            this.wrapper.removeEventListener('wheel', this.nativeWheel);\n        }\n    };\n    /**\n     * @hidden\n     */\n    DateInputWithoutContext.prototype.render = function () {\n        var _this = this;\n        if (this.props._ref) {\n            this.props._ref.current = this;\n        }\n        var localizationService = provideLocalizationService(this);\n        var props = __assign({}, DateInputWithoutContext.defaultProps, this.props);\n        var min = props.min, max = props.max, name = props.name, label = props.label, id = props.id;\n        var currentText = this.text;\n        var text = currentText === this.props.placeholder ? '' : currentText;\n        var placeholder = currentText === this.props.placeholder ? currentText : undefined;\n        var inputId = id || this._inputId;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var ariaProps = {\n            'aria-valuemin': min === null ? undefined : min.getTime(),\n            'aria-valuemax': max === null ? undefined : max.getTime(),\n            'aria-valuetext': text\n        };\n        if (this.value !== null) {\n            ariaProps['aria-valuenow'] = this.value.getTime();\n        }\n        var wrapperClassesInstance = wrapperClasses.slice();\n        if (this.props.className) {\n            wrapperClassesInstance.push(this.props.className);\n        }\n        var dateinput = (React.createElement(AsyncFocusBlur, { onFocus: this.elementOnFocus, onBlur: this.elementOnBlur }, function (_a) {\n            var onFocus = _a.onFocus, onBlur = _a.onBlur;\n            return (React.createElement(\"span\", { style: !label\n                    ? { width: _this.props.width }\n                    : undefined, dir: _this.props.dir, className: wrapperClassesInstance.join(' '), onFocus: onFocus, onBlur: onBlur },\n                React.createElement(\"span\", { className: classNames('k-dateinput-wrap', {\n                        'k-state-disabled': _this.props.disabled,\n                        'k-state-invalid': !isValid\n                    }), ref: function (span) { _this._wrapper = span; } },\n                    React.createElement(\"input\", __assign({ role: \"spinbutton\", tabIndex: _this.props.tabIndex, disabled: _this.props.disabled, title: _this.props.title !== undefined ? _this.props.title : currentText, type: \"text\", spellCheck: false, autoComplete: \"off\", autoCorrect: \"off\", className: \"k-input\", id: inputId, \"aria-labelledby\": _this.props.ariaLabelledBy, \"aria-describedby\": _this.props.ariaDescribedBy, \"aria-expanded\": _this.props.ariaExpanded, \"aria-haspopup\": _this.props.ariaHasPopup, onWheel: _this.wheel, onClick: _this.elementClick, onInput: _this.elementChange, onPaste: _this.handlePaste, onKeyDown: _this.elementKeyDown, onChange: noop, value: text, placeholder: placeholder, name: name }, ariaProps, { ref: function (input) { return _this._element = input; } })),\n                    _this.props.children,\n                    _this.props.spinners &&\n                        React.createElement(\"span\", { className: \"k-select\", onMouseDown: _this.spinnersMouseDown },\n                            React.createElement(\"span\", { className: \"k-link k-link-increase\", \"aria-label\": localizationService\n                                    .toLanguageString(increaseValue, messages[increaseValue]), title: localizationService\n                                    .toLanguageString(increaseValue, messages[increaseValue]), onClick: _this.increasePart },\n                                React.createElement(\"span\", { className: \"k-icon k-i-arrow-n\" })),\n                            React.createElement(\"span\", { className: \"k-link k-link-decrease\", \"aria-label\": localizationService\n                                    .toLanguageString(decreaseValue, messages[decreaseValue]), title: localizationService\n                                    .toLanguageString(decreaseValue, messages[decreaseValue]), onClick: _this.decreasePart },\n                                React.createElement(\"span\", { className: \"k-icon k-i-arrow-s\" }))))));\n        }));\n        return label\n            ? (React.createElement(FloatingLabel, { label: label, editorId: inputId, editorValue: currentText, editorValid: isValid, editorDisabled: this.props.disabled, children: dateinput, style: { width: this.props.width } }))\n            : dateinput;\n    };\n    Object.defineProperty(DateInputWithoutContext.prototype, \"value\", {\n        /* Public Getters */\n        /**\n         * Gets the value of the DateInput.\n         */\n        get: function () {\n            if (this.valueDuringOnChange !== undefined) {\n                return this.valueDuringOnChange;\n            }\n            return this.kendoDate && this.kendoDate.getDateObject();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInputWithoutContext.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the DateInput.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInputWithoutContext.prototype, \"min\", {\n        get: function () {\n            return this.props.min !== undefined\n                ? this.props.min\n                : DateInputWithoutContext.defaultProps.min;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInputWithoutContext.prototype, \"max\", {\n        get: function () {\n            return this.props.max !== undefined\n                ? this.props.max\n                : DateInputWithoutContext.defaultProps.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInputWithoutContext.prototype, \"text\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            var props = __assign({}, DateInput.defaultProps, this.props);\n            var _a = props.formatPlaceholder, formatPlaceholder = _a === void 0 ? DateInputWithoutContext.defaultProps.formatPlaceholder : _a, _b = props.format, format = _b === void 0 ? DateInputWithoutContext.defaultProps.format : _b, value = props.value, defaultValue = props.defaultValue;\n            if (this.kendoDate === null) {\n                this.kendoDate = new KendoDate(this.intl.bind(this), formatPlaceholder, format);\n                this.kendoDate.setValue(value || defaultValue || null);\n            }\n            else {\n                this.kendoDate.format = format;\n                this.kendoDate.formatPlaceholder = formatPlaceholder;\n            }\n            if (value !== undefined && this.value !== value) {\n                this.kendoDate.setValue(value);\n            }\n            var _c = this.kendoDate.getTextAndFormat(), currentText = _c.text, currentFormat = _c.format;\n            this.currentFormat = currentFormat;\n            return props.placeholder !== null && props.placeholder !== undefined\n                && !this.state.focused\n                && !this.kendoDate.hasValue()\n                ? props.placeholder\n                : currentText;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInputWithoutContext.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the DateInput is set.\n         */\n        get: function () {\n            var inRange = isInRange(this.value, this.min, this.max)\n                && isInTimeRange(this.value, this.props.minTime, this.props.maxTime);\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required || this.value !== null) && inRange;\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                rangeOverflow: (this.value && this.max.getTime() < this.value.getTime()) || false,\n                rangeUnderflow: (this.value && this.value.getTime() < this.min.getTime()) || false,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInputWithoutContext.prototype, \"element\", {\n        /**\n         * Gets the element of the DateInput.\n         *\n         * @return - An `HTMLInputElement`.\n         *\n         * @example\n         * ```jsx\n         * class App extends React.Component {\n         *     constructor(props) {\n         *         super(props);\n         *     }\n         *     element = null;\n         *     render() {\n         *         return (\n         *             <div>\n         *                 <DateInput\n         *                     ref={(dateInput) =>\n         *                         this.element = dateInput ? dateInput.element : null}\n         *                 />\n         *                 <button onClick={() => console.log(this.element)}>console.log the element</button>\n         *             </div>\n         *         );\n         *     }\n         * }\n         *\n         * ReactDOM.render(\n         *     <App />,\n         *     document.getElementsByTagName('my-app')[0]\n         * );\n         * ```\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInputWithoutContext.prototype, \"validityStyles\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : DateInputWithoutContext.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInputWithoutContext.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : DateInputWithoutContext.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateInputWithoutContext.prototype, \"wrapper\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._wrapper;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    DateInputWithoutContext.prototype.intl = function () {\n        return provideIntlService(this);\n    };\n    Object.defineProperty(DateInputWithoutContext.prototype, \"selection\", {\n        /*  end handlers */\n        get: function () {\n            var returnValue = { start: 0, end: 0 };\n            if (this.element !== null && this.element.selectionStart !== undefined) {\n                returnValue = { start: this.element.selectionStart, end: this.element.selectionEnd };\n            }\n            return returnValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DateInputWithoutContext.prototype.setSelection = function (selection) {\n        var _this = this;\n        this._lastSelectedSymbol = this.currentFormat[selection.start];\n        window.requestAnimationFrame(function () {\n            if (_this.element && document.activeElement === _this.element) {\n                _this.element.setSelectionRange(selection.start, selection.end);\n            }\n        });\n    };\n    DateInputWithoutContext.prototype.triggerChange = function (event, oldValue) {\n        this.valueDuringOnChange = this.value;\n        this.forceUpdate();\n        if (this.props.onChange\n            && !isEqual(oldValue, this.value)) {\n            // isEqual works with null\n            this.props.onChange.call(undefined, {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                value: this.value,\n                target: this\n                // inRange: this.props.min && this.props.max ? isInRange(value, this.props.min, this.props.max) : true\n            });\n        }\n        this.valueDuringOnChange = undefined;\n    };\n    DateInputWithoutContext.prototype.selectionBySymbol = function (symbol) {\n        var start = -1;\n        var end = 0;\n        for (var i = 0; i < this.currentFormat.length; i++) {\n            if (this.currentFormat[i] === symbol) {\n                end = i + 1;\n                if (start === -1) {\n                    start = i;\n                }\n            }\n        }\n        if (start < 0) {\n            start = 0;\n        }\n        return { start: start, end: end };\n    };\n    DateInputWithoutContext.prototype.selectionByIndex = function (index) {\n        var selection = { start: index, end: index };\n        for (var i = index, j = index - 1; i < this.currentFormat.length || j >= 0; i++, j--) {\n            if (i < this.currentFormat.length && this.currentFormat[i] !== '_') {\n                selection = this.selectionBySymbol(this.currentFormat[i]);\n                break;\n            }\n            if (j >= 0 && this.currentFormat[j] !== '_') {\n                selection = this.selectionBySymbol(this.currentFormat[j]);\n                break;\n            }\n        }\n        return selection;\n    };\n    DateInputWithoutContext.prototype.switchDateSegment = function (offset) {\n        var _a = this.selection, selectionStart = _a.start, selectionEnd = _a.end;\n        if (selectionStart < selectionEnd &&\n            this.currentFormat[selectionStart] !== this.currentFormat[selectionEnd - 1]) {\n            this.setSelection(this.selectionByIndex(offset > 0 ? selectionStart : selectionEnd - 1));\n            return;\n        }\n        var previousFormatSymbol = this.currentFormat[selectionStart];\n        var a = selectionStart + offset;\n        while (a > 0 && a < this.currentFormat.length) {\n            if (this.currentFormat[a] !== previousFormatSymbol &&\n                this.currentFormat[a] !== '_') {\n                break;\n            }\n            a += offset;\n        }\n        if (this.currentFormat[a] === '_') {\n            // no known symbol is found\n            return;\n        }\n        var b = a;\n        while (b >= 0 && b < this.currentFormat.length) {\n            if (this.currentFormat[b] !== this.currentFormat[a]) {\n                break;\n            }\n            b += offset;\n        }\n        if (a > b && (b + 1 !== selectionStart || a + 1 !== selectionEnd)) {\n            this.setSelection({ start: b + 1, end: a + 1 });\n        }\n        else if (a < b && (a !== selectionStart || b !== selectionEnd)) {\n            this.setSelection({ start: a, end: b });\n        }\n    };\n    DateInputWithoutContext.prototype.modifyDateSegmentValue = function (offset, event) {\n        if (!this.kendoDate) {\n            return;\n        }\n        var oldValue = this.value;\n        var symbol = this.currentFormat[this.selection.start];\n        var currentStepSymbol = this.kendoDate.symbolMap(symbol);\n        var step = ((this.props.steps || {})[currentStepSymbol] || 1) * offset;\n        this.kendoDate.modifyPart(symbol, step);\n        this.triggerChange(event, oldValue);\n    };\n    /**\n     * @hidden\n     */\n    DateInputWithoutContext.displayName = 'DateInput';\n    /**\n     * @hidden\n     */\n    DateInputWithoutContext.propTypes = {\n        value: PropTypes.instanceOf(Date),\n        format: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.shape({\n                skeleton: PropTypes.string,\n                pattern: PropTypes.string,\n                date: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                time: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                datetime: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                era: PropTypes.oneOf(['narrow', 'short', 'long']),\n                year: PropTypes.oneOf(['numeric', '2-digit']),\n                month: PropTypes.oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n                day: PropTypes.oneOf(['numeric', '2-digit']),\n                weekday: PropTypes.oneOf(['narrow', 'short', 'long']),\n                hour: PropTypes.oneOf(['numeric', '2-digit']),\n                hour12: PropTypes.bool,\n                minute: PropTypes.oneOf(['numeric', '2-digit']),\n                second: PropTypes.oneOf(['numeric', '2-digit']),\n                timeZoneName: PropTypes.oneOf(['short', 'long'])\n            })\n        ]),\n        formatPlaceholder: PropTypes.oneOfType([\n            PropTypes.oneOf(['wide', 'narrow', 'short', 'formatPattern']),\n            PropTypes.shape({\n                year: PropTypes.string,\n                month: PropTypes.string,\n                day: PropTypes.string,\n                hour: PropTypes.string,\n                minute: PropTypes.string,\n                second: PropTypes.string\n            })\n        ]),\n        width: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.number\n        ]),\n        tabIndex: PropTypes.number,\n        title: PropTypes.string,\n        steps: PropTypes.shape({\n            year: PropTypes.number,\n            month: PropTypes.number,\n            day: PropTypes.number,\n            hour: PropTypes.number,\n            minute: PropTypes.number,\n            second: PropTypes.number\n        }),\n        min: PropTypes.instanceOf(Date),\n        max: PropTypes.instanceOf(Date),\n        disabled: PropTypes.bool,\n        spinners: PropTypes.bool,\n        name: PropTypes.string,\n        dir: PropTypes.string,\n        label: PropTypes.string,\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        ariaExpanded: PropTypes.oneOfType([\n            PropTypes.bool\n        ]),\n        onChange: PropTypes.func,\n        validationMessage: PropTypes.string,\n        required: PropTypes.bool,\n        validate: PropTypes.bool,\n        valid: PropTypes.bool\n    };\n    /**\n     * @hidden\n     */\n    DateInputWithoutContext.defaultProps = {\n        format: defaultFormat,\n        formatPlaceholder: defaultFormatPlaceholder,\n        // defaultValue: null as Date | null,\n        spinners: false,\n        disabled: false,\n        max: cloneDate(MAX_DATE),\n        min: cloneDate(MIN_DATE),\n        minTime: cloneDate(MIN_TIME),\n        maxTime: cloneDate(MAX_TIME),\n        required: false,\n        validityStyles: true,\n        validationMessage: VALIDATION_MESSAGE,\n        placeholder: null\n        // the rest of the properties are undefined by default\n    };\n    return DateInputWithoutContext;\n}(React.Component));\nexport { DateInputWithoutContext };\n/**\n * Represents the PropsContext of the `DateInput` component.\n * Used for global configuration of all `DateInput` instances.\n *\n * For more information, refer to the [DateInputs Props Context]({% slug props-context_dateinputs %}) article.\n */\nexport var DateInputPropsContext = createPropsContext();\n;\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the KendoReact DateInput Component.\n *\n * Accepts properties of type [DateInputProps]({% slug api_dateinputs_dateinputprops %}).\n * Obtaining the `ref` returns an object of type [DateInputHandle]({% slug api_dateinputs_dateinputhandle %}).\n */\nexport var DateInput = withPropsContext(DateInputPropsContext, DateInputWithoutContext);\nDateInput.displayName = 'KendoReactDateInput';\nregisterForIntl(DateInputWithoutContext);\nregisterForLocalization(DateInputWithoutContext);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}