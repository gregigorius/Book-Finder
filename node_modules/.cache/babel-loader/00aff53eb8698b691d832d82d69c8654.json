{"ast":null,"code":"var normalize = function (x) {\n  return Math.max(x, 0);\n};\n/**\n * @hidden\n */\n\n\nvar ScrollAction =\n/** @class */\nfunction () {\n  function ScrollAction(offset) {\n    this.offset = offset;\n  }\n\n  return ScrollAction;\n}();\n\nexport { ScrollAction };\n/**\n * @hidden\n */\n\nvar PageAction =\n/** @class */\nfunction () {\n  function PageAction(skip) {\n    this.skip = skip;\n  }\n\n  return PageAction;\n}();\n\nexport { PageAction };\n/**\n * @hidden\n */\n\nvar ScrollerService =\n/** @class */\nfunction () {\n  function ScrollerService(onScrollAction, onPageAction) {\n    this.onScrollAction = onScrollAction;\n    this.onPageAction = onPageAction;\n    this.firstLoaded = 0;\n    this.bottomOffset = 0;\n    this.topOffset = 0;\n  }\n\n  ScrollerService.prototype.create = function (rowHeightService, skip, take, total, topOffset, bottomOffset, direction) {\n    if (topOffset === void 0) {\n      topOffset = 0;\n    }\n\n    if (bottomOffset === void 0) {\n      bottomOffset = 0;\n    }\n\n    if (direction === void 0) {\n      direction = 'vertical';\n    }\n\n    this.rowHeightService = rowHeightService;\n    this.firstLoaded = skip;\n    this.lastLoaded = skip + take;\n    this.take = take;\n    this.total = total;\n    this.lastScrollTop = 0;\n    this.topOffset = topOffset;\n    this.bottomOffset = bottomOffset;\n    this.direction = direction;\n    var offsetBufferRows = this.rowsForHeight(topOffset);\n    var skipWithOffset = normalize(skip - offsetBufferRows);\n    this.onScrollAction(new ScrollAction(this.rowOffset(skipWithOffset)));\n    this.onPageAction(new PageAction(skipWithOffset));\n  };\n\n  ScrollerService.prototype.onScroll = function (_a) {\n    var scrollLeft = _a.scrollLeft,\n        scrollTop = _a.scrollTop,\n        offsetHeight = _a.offsetHeight,\n        offsetWidth = _a.offsetWidth;\n    var scrollPosition = this.direction === 'vertical' ? scrollTop : scrollLeft;\n    var offsetSize = this.direction === 'vertical' ? offsetHeight : offsetWidth;\n\n    if (this.lastScrollTop === scrollPosition) {\n      return;\n    }\n\n    var up = this.lastScrollTop >= scrollPosition;\n    this.lastScrollTop = scrollPosition;\n    var firstItemIndex = this.rowHeightService.index(normalize(scrollPosition - this.topOffset));\n    var lastItemIndex = this.rowHeightService.index(normalize(scrollPosition + offsetSize - this.bottomOffset));\n\n    if (!up && lastItemIndex >= this.lastLoaded && this.lastLoaded < this.total) {\n      this.firstLoaded = firstItemIndex;\n      this.onScrollAction(new ScrollAction(this.rowOffset(firstItemIndex)));\n      this.lastLoaded = Math.min(this.firstLoaded + this.take, this.total);\n      this.onPageAction(new PageAction(this.firstLoaded));\n    }\n\n    if (up && firstItemIndex <= this.firstLoaded) {\n      var nonVisibleBuffer = Math.floor(this.take * 0.3);\n      this.firstLoaded = normalize(firstItemIndex - nonVisibleBuffer);\n      this.onScrollAction(new ScrollAction(this.rowOffset(this.firstLoaded)));\n      this.lastLoaded = Math.min(this.firstLoaded + this.take, this.total);\n      this.onPageAction(new PageAction(this.firstLoaded));\n    }\n  };\n\n  ScrollerService.prototype.rowOffset = function (index) {\n    return this.rowHeightService.offset(index) + this.topOffset;\n  };\n\n  ScrollerService.prototype.rowsForHeight = function (height) {\n    return Math.ceil(height / this.rowHeightService.height(0));\n  };\n\n  return ScrollerService;\n}();\n\nexport { ScrollerService };","map":{"version":3,"names":["normalize","x","Math","max","ScrollAction","offset","PageAction","skip","ScrollerService","onScrollAction","onPageAction","firstLoaded","bottomOffset","topOffset","prototype","create","rowHeightService","take","total","direction","lastLoaded","lastScrollTop","offsetBufferRows","rowsForHeight","skipWithOffset","rowOffset","onScroll","_a","scrollLeft","scrollTop","offsetHeight","offsetWidth","scrollPosition","offsetSize","up","firstItemIndex","index","lastItemIndex","min","nonVisibleBuffer","floor","height","ceil"],"sources":["/Users/gabriel/Play/test/travelio/react-analytics/node_modules/@progress/kendo-react-dateinputs/dist/es/virtualization/services/ScrollerService.js"],"sourcesContent":["var normalize = function (x) { return Math.max(x, 0); };\n/**\n * @hidden\n */\nvar ScrollAction = /** @class */ (function () {\n    function ScrollAction(offset) {\n        this.offset = offset;\n    }\n    return ScrollAction;\n}());\nexport { ScrollAction };\n/**\n * @hidden\n */\nvar PageAction = /** @class */ (function () {\n    function PageAction(skip) {\n        this.skip = skip;\n    }\n    return PageAction;\n}());\nexport { PageAction };\n/**\n * @hidden\n */\nvar ScrollerService = /** @class */ (function () {\n    function ScrollerService(onScrollAction, onPageAction) {\n        this.onScrollAction = onScrollAction;\n        this.onPageAction = onPageAction;\n        this.firstLoaded = 0;\n        this.bottomOffset = 0;\n        this.topOffset = 0;\n    }\n    ScrollerService.prototype.create = function (rowHeightService, skip, take, total, topOffset, bottomOffset, direction) {\n        if (topOffset === void 0) { topOffset = 0; }\n        if (bottomOffset === void 0) { bottomOffset = 0; }\n        if (direction === void 0) { direction = 'vertical'; }\n        this.rowHeightService = rowHeightService;\n        this.firstLoaded = skip;\n        this.lastLoaded = skip + take;\n        this.take = take;\n        this.total = total;\n        this.lastScrollTop = 0;\n        this.topOffset = topOffset;\n        this.bottomOffset = bottomOffset;\n        this.direction = direction;\n        var offsetBufferRows = this.rowsForHeight(topOffset);\n        var skipWithOffset = normalize(skip - offsetBufferRows);\n        this.onScrollAction(new ScrollAction(this.rowOffset(skipWithOffset)));\n        this.onPageAction(new PageAction(skipWithOffset));\n    };\n    ScrollerService.prototype.onScroll = function (_a) {\n        var scrollLeft = _a.scrollLeft, scrollTop = _a.scrollTop, offsetHeight = _a.offsetHeight, offsetWidth = _a.offsetWidth;\n        var scrollPosition = this.direction === 'vertical' ? scrollTop : scrollLeft;\n        var offsetSize = this.direction === 'vertical' ? offsetHeight : offsetWidth;\n        if (this.lastScrollTop === scrollPosition) {\n            return;\n        }\n        var up = this.lastScrollTop >= scrollPosition;\n        this.lastScrollTop = scrollPosition;\n        var firstItemIndex = this.rowHeightService.index(normalize(scrollPosition - this.topOffset));\n        var lastItemIndex = this.rowHeightService.index(normalize(scrollPosition + offsetSize - this.bottomOffset));\n        if (!up && lastItemIndex >= this.lastLoaded && this.lastLoaded < this.total) {\n            this.firstLoaded = firstItemIndex;\n            this.onScrollAction(new ScrollAction(this.rowOffset(firstItemIndex)));\n            this.lastLoaded = Math.min(this.firstLoaded + this.take, this.total);\n            this.onPageAction(new PageAction(this.firstLoaded));\n        }\n        if (up && firstItemIndex <= this.firstLoaded) {\n            var nonVisibleBuffer = Math.floor(this.take * 0.3);\n            this.firstLoaded = normalize(firstItemIndex - nonVisibleBuffer);\n            this.onScrollAction(new ScrollAction(this.rowOffset(this.firstLoaded)));\n            this.lastLoaded = Math.min(this.firstLoaded + this.take, this.total);\n            this.onPageAction(new PageAction(this.firstLoaded));\n        }\n    };\n    ScrollerService.prototype.rowOffset = function (index) {\n        return this.rowHeightService.offset(index) + this.topOffset;\n    };\n    ScrollerService.prototype.rowsForHeight = function (height) {\n        return Math.ceil(height / this.rowHeightService.height(0));\n    };\n    return ScrollerService;\n}());\nexport { ScrollerService };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}